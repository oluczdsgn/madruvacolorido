<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gerador de Paletas de Cores - Bento UI</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <style>
        /* Estilos gerais e reset */
        :root {
            --background-color: #0A0A0A;
            --glass-bg: rgba(255, 255, 255, 0.05);
            --glass-border: rgba(255, 255, 255, 0.1);
            --text-color: #EAEAEA;
            --text-muted-color: #A0A0A0;
            --glow-color: hsla(277, 98%, 79%, 0.2);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--background-color);
            color: var(--text-color);
            padding: 1rem;
            min-height: 100vh;
            background-image: radial-gradient(circle at 1px 1px, rgba(255,255,255,0.05) 1px, transparent 0);
            background-size: 20px 20px;
            overflow: hidden;
        }

        /* Efeitos de Fundo e Mouse */
        #background-glow {
            position: fixed;
            top: 50%;
            left: 50%;
            width: 1200px;
            height: 1200px;
            background: radial-gradient(circle, var(--glow-color) 0%, transparent 60%);
            transform: translate(-50%, -50%);
            transition: background 1s ease;
            z-index: -2;
        }

        #mouse-pointer-glow {
            position: fixed;
            width: 400px;
            height: 400px;
            background: radial-gradient(circle, var(--glow-color) 0%, transparent 70%);
            border-radius: 50%;
            pointer-events: none;
            transform: translate(-50%, -50%);
            transition: background 1s ease;
            z-index: -1;
            filter: blur(20px);
        }

        /* Layout Bento Grid */
        .bento-grid {
            display: grid;
            grid-template-columns: repeat(12, 1fr);
            grid-template-rows: auto;
            gap: 1rem;
            width: 100%;
            max-width: 1400px;
            margin: 0 auto;
            height: calc(100vh - 2rem);
            overflow-y: auto;
            padding-right: 10px; /* Espaço para a barra de rolagem */
        }
        
        /* Custom Scrollbar */
        .bento-grid::-webkit-scrollbar {
            width: 6px;
        }
        .bento-grid::-webkit-scrollbar-track {
            background: transparent;
        }
        .bento-grid::-webkit-scrollbar-thumb {
            background-color: rgba(255, 255, 255, 0.2);
            border-radius: 10px;
        }

        .bento-box {
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            border-radius: 1.5rem;
            padding: 1.5rem;
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            display: flex;
            flex-direction: column;
        }

        .bento-box:hover {
            transform: translateY(-5px) scale(1.01);
            border-color: rgba(255, 255, 255, 0.25);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.2);
        }

        /* Header */
        #header-box {
            grid-column: span 12;
            text-align: center;
        }
        #header-box h1 {
            font-size: 2.5rem;
            font-weight: 700;
            letter-spacing: -1px;
            background: linear-gradient(90deg, #EAEAEA, #A0A0A0);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        #header-box p {
            color: var(--text-muted-color);
            margin-top: 0.5rem;
        }
        
        /* Seletor de Cor (Canvas) */
        #picker-box {
            grid-column: span 12;
            grid-row: span 2;
            align-items: center;
            gap: 1.5rem;
        }
        
        .picker-container {
            width: 100%;
            display: flex;
            gap: 1.5rem;
            flex-wrap: wrap;
            justify-content: center;
        }

        #color-canvas {
            width: 100%;
            max-width: 400px;
            height: 200px;
            cursor: crosshair;
            border-radius: 1rem;
        }
        
        .color-preview-wrapper {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 1rem;
        }

        #color-preview {
            width: 80px;
            height: 80px;
            border-radius: 1rem;
            border: 2px solid var(--glass-border);
        }
        
        #color-value {
            font-family: 'monospace';
            font-size: 1.1rem;
            background-color: rgba(0,0,0,0.2);
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
        }

        /* Seções de paleta */
        .palette-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
            gap: 0.5rem;
        }
        
        .palette-header h2 {
            font-size: 1.2rem;
            font-weight: 500;
            margin-right: auto;
        }

        .action-buttons {
            display: flex;
            gap: 0.5rem;
        }

        .action-btn {
            background: rgba(255, 255, 255, 0.1);
            color: var(--text-color);
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.8rem;
            font-family: 'Inter', sans-serif;
            transition: all 0.2s ease;
        }

        .action-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }
        .action-btn:active {
            transform: translateY(0px) scale(0.98);
        }

        .palette {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 0.75rem;
        }

        .color-box {
            width: 100%;
            padding-bottom: 100%; /* Aspect ratio 1:1 */
            border-radius: 0.75rem;
            cursor: pointer;
            transition: transform 0.2s ease;
            position: relative;
        }
        
        .color-box-inner {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            border-radius: inherit;
        }

        .color-box:hover {
            transform: scale(1.08);
        }
        
        /* Seção de Degradê Aprimorada */
        #gradient-palette-display {
            width: 100%;
            height: 120px;
            border-radius: 1rem;
            margin-bottom: 1.5rem;
            transition: background 0.5s ease;
        }
        
        .gradient-suggestions-container {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-top: auto; /* Empurra para o final do flex container */
        }
        
        .gradient-suggestion {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            border: 2px solid transparent;
            cursor: pointer;
            transition: all 0.2s ease;
            background-size: cover;
            background-color: transparent;
        }

        .gradient-suggestion.active {
            border-color: var(--text-color);
            transform: scale(1.15);
        }
        
        /* Posicionamento no Grid */
        #harmonizing-section { grid-column: span 12; }
        #gradient-section { grid-column: span 12; }
        #pastel-section { grid-column: span 4; }
        #dark-section { grid-column: span 4; }
        #neon-section { grid-column: span 4; }

        /* Tooltip e Notificação */
        .tooltip, .copy-notification {
            position: fixed;
            background-color: rgba(0, 0, 0, 0.85);
            color: white;
            padding: 8px 12px;
            border-radius: 8px;
            font-size: 0.9em;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.2s;
            z-index: 1000;
            backdrop-filter: blur(5px);
        }
        
        .copy-notification {
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-weight: 500;
        }

        .copy-notification.show {
            opacity: 1;
            transform: translate(-50%, -60%);
        }
        
        /* Responsividade */
        @media (max-width: 992px) {
            #pastel-section, #dark-section, #neon-section {
                grid-column: span 6;
            }
        }
        @media (max-width: 768px) {
            body { padding: 0.5rem; overflow: auto; }
            .bento-grid { height: auto; }
            #mouse-pointer-glow, #background-glow { display: none; } /* Desativa efeitos em mobile para performance */
            .bento-box { padding: 1rem; }
            #header-box h1 { font-size: 2rem; }
            .picker-container { flex-direction: column; }
            #color-canvas { height: 150px; }
            #pastel-section, #dark-section, #neon-section {
                grid-column: span 12;
            }
        }
    </style>
</head>
<body>
    <div id="background-glow"></div>
    <div id="mouse-pointer-glow"></div>

    <div class="bento-grid">
        <header id="header-box" class="bento-box">
            <h1>Gerador de Paletas de Cores</h1>
            <p>Clique no seletor para escolher uma cor base e explore harmonias incríveis.</p>
        </header>

        <div id="picker-box" class="bento-box">
            <div class="picker-container">
                <canvas id="color-canvas"></canvas>
                <div class="color-preview-wrapper">
                    <div id="color-preview"></div>
                    <span id="color-value">#BB86FC</span>
                </div>
            </div>
        </div>

        <section class="bento-box" id="harmonizing-section">
            <div class="palette-header">
                <h2>Harmônicas</h2>
                <div class="action-buttons">
                    <button class="action-btn" data-action="copy-css" data-target="harmonizing-palette">Copiar CSS</button>
                    <button class="action-btn" data-action="copy-html" data-target="harmonizing-palette">Copiar HTML</button>
                    <button class="action-btn" data-action="download" data-target="harmonizing-palette">Baixar</button>
                </div>
            </div>
            <div class="palette" id="harmonizing-palette"></div>
        </section>
        
        <section class="bento-box" id="gradient-section">
            <div class="palette-header">
                <h2>Degradê</h2>
                <div class="action-buttons">
                     <button class="action-btn" data-action="copy-css" data-target="gradient-palette-display">Copiar CSS</button>
                     <button class="action-btn" data-action="download" data-target="gradient-palette-display">Baixar</button>
                </div>
            </div>
            <div id="gradient-palette-display"></div>
            <div class="gradient-suggestions-container">
                <button class="gradient-suggestion active" data-type="linear-90"></button>
                <button class="gradient-suggestion" data-type="linear-45"></button>
                <button class="gradient-suggestion" data-type="radial"></button>
                <button class="gradient-suggestion" data-type="conic"></button>
            </div>
        </section>

        <section class="bento-box" id="pastel-section">
            <div class="palette-header">
                <h2>Pastéis</h2>
                <div class="action-buttons">
                    <button class="action-btn" data-action="copy-css" data-target="pastel-palette">Copiar CSS</button>
                    <button class="action-btn" data-action="copy-html" data-target="pastel-palette">Copiar HTML</button>
                    <button class="action-btn" data-action="download" data-target="pastel-palette">Baixar</button>
                </div>
            </div>
            <div class="palette" id="pastel-palette"></div>
        </section>

        <section class="bento-box" id="dark-section">
            <div class="palette-header">
                <h2>Escuras</h2>
                <div class="action-buttons">
                    <button class="action-btn" data-action="copy-css" data-target="dark-palette">Copiar CSS</button>
                    <button class="action-btn" data-action="copy-html" data-target="dark-palette">Copiar HTML</button>
                    <button class="action-btn" data-action="download" data-target="dark-palette">Baixar</button>
                </div>
            </div>
            <div class="palette" id="dark-palette"></div>
        </section>

        <section class="bento-box" id="neon-section">
            <div class="palette-header">
                <h2>Neon</h2>
                <div class="action-buttons">
                    <button class="action-btn" data-action="copy-css" data-target="neon-palette">Copiar CSS</button>
                    <button class="action-btn" data-action="copy-html" data-target="neon-palette">Copiar HTML</button>
                    <button class="action-btn" data-action="download" data-target="neon-palette">Baixar</button>
                </div>
            </div>
            <div class="palette" id="neon-palette"></div>
        </section>

    </div>

    <div class="tooltip"></div>
    <div class="copy-notification">Copiado!</div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const root = document.documentElement;
            const canvas = document.getElementById('color-canvas');
            const ctx = canvas.getContext('2d');
            const colorPreview = document.getElementById('color-preview');
            const colorValue = document.getElementById('color-value');
            const tooltip = document.querySelector('.tooltip');
            const copyNotification = document.querySelector('.copy-notification');
            const gradientDisplay = document.getElementById('gradient-palette-display');
            const suggestionsContainer = document.querySelector('.gradient-suggestions-container');
            const mousePointerGlow = document.getElementById('mouse-pointer-glow');
            
            let baseColor = '#bb86fc';
            let currentGradientType = 'linear-90';

            // --- FUNÇÕES DE CONVERSÃO E GERAÇÃO DE COR (sem alterações) ---
            function hexToRgb(hex) { let r=0,g=0,b=0; if(hex.length==4){r="0x"+hex[1]+hex[1];g="0x"+hex[2]+hex[2];b="0x"+hex[3]+hex[3];}else if(hex.length==7){r="0x"+hex[1]+hex[2];g="0x"+hex[3]+hex[4];b="0x"+hex[5]+hex[6];} return{r:+r,g:+g,b:+b};}
            function rgbToHsl(r,g,b){r/=255;g/=255;b/=255;let max=Math.max(r,g,b),min=Math.min(r,g,b);let h,s,l=(max+min)/2;if(max==min){h=s=0;}else{let d=max-min;s=l>0.5?d/(2-max-min):d/(max+min);switch(max){case r:h=(g-b)/d+(g<b?6:0);break;case g:h=(b-r)/d+2;break;case b:h=(r-g)/d+4;break;}h/=6;}return{h:h*360,s:s*100,l:l*100};}
            function hslToRgb(h,s,l){s/=100;l/=100;let c=(1-Math.abs(2*l-1))*s,x=c*(1-Math.abs((h/60)%2-1)),m=l-c/2,r=0,g=0,b=0;if(0<=h&&h<60){r=c;g=x;b=0;}else if(60<=h&&h<120){r=x;g=c;b=0;}else if(120<=h&&h<180){r=0;g=c;b=x;}else if(180<=h&&h<240){r=0;g=x;b=c;}else if(240<=h&&h<300){r=x;g=0;b=c;}else if(300<=h&&h<360){r=c;g=0;b=x;}r=Math.round((r+m)*255);g=Math.round((g+m)*255);b=Math.round((b+m)*255);return{r,g,b};}
            function rgbToHex(r,g,b){return "#"+((1<<24)+(r<<16)+(g<<8)+b).toString(16).slice(1).toUpperCase();}
            function generatePalette(color,type){const rgb=hexToRgb(color);const hsl=rgbToHsl(rgb.r,rgb.g,rgb.b);const palette=[color];for(let i=1;i<5;i++){let newHsl={...hsl};switch(type){case'harmonizing':newHsl.h=(hsl.h+(i*30))%360;if(i>2)newHsl.h=(hsl.h+150+(i-3)*60)%360;break;case'pastel':newHsl.h=(hsl.h+i*20)%360;newHsl.s=40+Math.random()*20;newHsl.l=85+Math.random()*10;break;case'dark':newHsl.h=(hsl.h+i*15)%360;newHsl.s=Math.max(30,hsl.s-20);newHsl.l=15+i*5;break;case'neon':newHsl.h=(hsl.h+i*60)%360;newHsl.s=100;newHsl.l=50;break;}const newRgb=hslToRgb(newHsl.h,newHsl.s,newHsl.l);palette.push(rgbToHex(newRgb.r,newRgb.g,newRgb.b));}return palette;}

            // --- CANVAS COLOR PICKER ---
            function drawColorCanvas(){canvas.width=canvas.clientWidth;canvas.height=canvas.clientHeight;let gradientH=ctx.createLinearGradient(0,0,canvas.width,0);gradientH.addColorStop(0,'hsl(0,100%,50%)');gradientH.addColorStop(0.17,'hsl(60,100%,50%)');gradientH.addColorStop(0.33,'hsl(120,100%,50%)');gradientH.addColorStop(0.5,'hsl(180,100%,50%)');gradientH.addColorStop(0.67,'hsl(240,100%,50%)');gradientH.addColorStop(0.83,'hsl(300,100%,50%)');gradientH.addColorStop(1,'hsl(360,100%,50%)');ctx.fillStyle=gradientH;ctx.fillRect(0,0,canvas.width,canvas.height);let gradientV=ctx.createLinearGradient(0,0,0,canvas.height);gradientV.addColorStop(0,'rgba(255,255,255,1)');gradientV.addColorStop(0.5,'rgba(255,255,255,0)');gradientV.addColorStop(0.5,'rgba(0,0,0,0)');gradientV.addColorStop(1,'rgba(0,0,0,1)');ctx.fillStyle=gradientV;ctx.fillRect(0,0,canvas.width,canvas.height);}
            function pickColor(event){const rect=canvas.getBoundingClientRect();const x=event.clientX-rect.left;const y=event.clientY-rect.top;const pixel=ctx.getImageData(x,y,1,1).data;baseColor=rgbToHex(pixel[0],pixel[1],pixel[2]);updateUI(baseColor);}
            canvas.addEventListener('click',pickColor);

            // --- FUNÇÕES DE ATUALIZAÇÃO E GERAÇÃO DE CÓDIGO ---
            function getGradientCss(type,colors){const colorString=colors.join(', ');switch(type){case'linear-45':return`linear-gradient(45deg, ${colorString})`;case'radial':return`radial-gradient(circle, ${colorString})`;case'conic':return`conic-gradient(from 180deg, ${colorString})`;case'linear-90':default:return`linear-gradient(90deg, ${colorString})`;}}
            function updateGradient(colors){const gradientCss=getGradientCss(currentGradientType,colors);gradientDisplay.style.background=gradientCss;suggestionsContainer.querySelectorAll('.gradient-suggestion').forEach(btn=>{const type=btn.dataset.type;btn.style.background=getGradientCss(type,colors);});}
            function generateGlowColor(hex) {
                const hsl = rgbToHsl(hexToRgb(hex).r, hexToRgb(hex).g, hexToRgb(hex).b);
                return `hsla(${hsl.h}, ${hsl.s * 0.8}%, ${hsl.l * 0.3}%, 0.25)`;
            }

            function updateUI(color){
                colorPreview.style.backgroundColor = color;
                colorValue.textContent = color;
                root.style.setProperty('--glow-color', generateGlowColor(color));

                const palettes={'harmonizing-palette':generatePalette(color,'harmonizing'),'pastel-palette':generatePalette(color,'pastel'),'dark-palette':generatePalette(color,'dark'),'neon-palette':generatePalette(color,'neon'),};
                for(const id in palettes){const container=document.getElementById(id);container.innerHTML='';palettes[id].forEach(c=>{const colorBox=document.createElement('div');colorBox.className='color-box';const innerBox=document.createElement('div');innerBox.className='color-box-inner';innerBox.style.backgroundColor=c;innerBox.dataset.color=c;colorBox.appendChild(innerBox);container.appendChild(colorBox);});}
                updateGradient(palettes['harmonizing-palette']);
            }
            
            function generateCssCode(targetId) {
                if (targetId === 'gradient-palette-display') {
                    return `background: ${gradientDisplay.style.background};`;
                }
                const colors = Array.from(document.querySelectorAll(`#${targetId} .color-box-inner`)).map(box => box.dataset.color);
                let css = `:root {\n`;
                colors.forEach((color, index) => {
                    css += `  --color-${index + 1}: ${color};\n`;
                });
                css += `}`;
                return css;
            }

            function generateHtmlCode(targetId) {
                const colors = Array.from(document.querySelectorAll(`#${targetId} .color-box-inner`)).map(box => box.dataset.color);
                let html = `<div class="palette-container">\n`;
                colors.forEach(color => {
                    html += `  <div style="background-color: ${color}; width: 100px; height: 100px;"></div>\n`;
                });
                html += `</div>`;
                return html;
            }
            
            function showCopyNotification() {
                copyNotification.classList.add('show');
                setTimeout(() => copyNotification.classList.remove('show'), 1500);
            }

            // --- MANIPULADORES DE EVENTOS ---
            suggestionsContainer.addEventListener('click',(e)=>{if(e.target.classList.contains('gradient-suggestion')){currentGradientType=e.target.dataset.type;suggestionsContainer.querySelector('.active').classList.remove('active');e.target.classList.add('active');const harmonizingColors=Array.from(document.querySelectorAll('#harmonizing-palette .color-box-inner')).map(box=>box.dataset.color);updateGradient(harmonizingColors);}});
            document.querySelector('.bento-grid').addEventListener('mouseover',(e)=>{if(e.target.classList.contains('color-box-inner')){tooltip.textContent=e.target.dataset.color;tooltip.style.opacity='1';}});
            document.querySelector('.bento-grid').addEventListener('mousemove',(e)=>{tooltip.style.left=`${e.clientX+15}px`;tooltip.style.top=`${e.clientY+15}px`;});
            document.querySelector('.bento-grid').addEventListener('mouseout',(e)=>{if(e.target.classList.contains('color-box-inner')){tooltip.style.opacity='0';}});
            document.querySelector('.bento-grid').addEventListener('click',(e)=>{if(e.target.classList.contains('color-box-inner')){navigator.clipboard.writeText(e.target.dataset.color).then(showCopyNotification).catch(err=>console.error('Falha ao copiar a cor: ',err));}});
            
            document.querySelectorAll('.action-btn').forEach(button => {
                button.addEventListener('click', (e) => {
                    e.stopPropagation();
                    const action = button.dataset.action;
                    const targetId = button.dataset.target;
                    
                    if (action === 'download') {
                        const elementToCapture = document.getElementById(targetId);
                        html2canvas(elementToCapture, { backgroundColor: null, scale: 3 })
                            .then(canvas => {
                                const link = document.createElement('a');
                                link.download = `${targetId}.png`;
                                link.href = canvas.toDataURL('image/png');
                                link.click();
                            });
                    } else if (action === 'copy-css') {
                        const code = generateCssCode(targetId);
                        navigator.clipboard.writeText(code).then(showCopyNotification).catch(err => console.error('Falha ao copiar CSS: ', err));
                    } else if (action === 'copy-html') {
                        const code = generateHtmlCode(targetId);
                        navigator.clipboard.writeText(code).then(showCopyNotification).catch(err => console.error('Falha ao copiar HTML: ', err));
                    }
                });
            });

            window.addEventListener('mousemove', (e) => {
                mousePointerGlow.style.left = `${e.clientX}px`;
                mousePointerGlow.style.top = `${e.clientY}px`;
            });

            // --- INICIALIZAÇÃO ---
            drawColorCanvas();
            updateUI(baseColor);
            window.addEventListener('resize',drawColorCanvas);
        });
    </script>
</body>
</html>
